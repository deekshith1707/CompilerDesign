#include <stdio.h>

// 1. SIMPLE TYPES
typedef int TInt;
typedef char TChar;
typedef long long TBig;
typedef float TFlt;

// 2. POINTERS AND ARRAYS
typedef int Arr1[10];
typedef int* PtrI;
typedef char* PtrC;
typedef char ArrC[10];

// 3. ENUM
typedef enum {
    ON,
    OFF,
    ERR = -1
} Mode;

// 4. NESTED TYPEDEF (Struct using other typedefs)
typedef struct {
    PtrI pid;      // Uses alias from Step 2
    Mode stat;     // Uses alias from Step 3
    TBig total;    // Uses alias from Step 1
} Device;

// 5. UNION
typedef union {
    TBig big;
    TFlt flt;
} Data;


int main() {
    int ctrl = 42;
    
    // Test 1: Variable declarations using complex aliases
    TChar init = 'Z';
    Data data;
    Device dev;
    
    // Test 2: Initialization of pointer and arrays
    PtrI pID = &ctrl;
    ArrC buf = "Start";
    
    // Test 3: Enum variable
    Mode curr = ON;
    
    // Test 4: Nested variable initialization and access
    dev.pid = pID;
    data.flt = 3.14f;

    printf("ID: %d, Mode: %d, Buffer: %s, Data: %.1f\n", *dev.pid, curr, buf, data.flt);

    /*
    // INVALID CASES

    // ERROR : Redeclaring a typedef name as a variable in the same scope
    float TChar = 9.9f;           // Redeclaration of 'TChar'
    
    // ERROR : Using a type alias where a name is missing
    typedef int;                  // Declaration does not declare anything
    
    */
    
    return 0;
}