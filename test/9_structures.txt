// Test case for structures

#include <stdio.h>

// Structure definition
struct Point {
    int x;
    int y;
};

struct Student {
    int id;
    float gpa;
    int age;
};

int main() {
    struct Point p1;
    struct Point p2 = {10, 20};
    // Member access using dot operator
    p1.x = 5;
    p1.y = 15;
    printf("Point p1: (%d, %d)\n", p1.x, p1.y);
    printf("Point p2: (%d, %d)\n", p2.x, p2.y);
    
    // Structure with different data types
    struct Student student1;
    student1.id = 101;
    student1.gpa = 3.75;
    student1.age = 20;
    printf("Student ID: %d, GPA: %.2f, Age: %d\n", student1.id, student1.gpa, student1.age);
    
    // Structure assignment (copy)
    struct Point p3;
    p3 = p1;
    p3.x = 100;  // Modifying copy doesn't affect original
    printf("Original p1.x: %d, Copy p3.x: %d\n", p1.x, p3.x);
    
    // Pointer to structure
    struct Point* ptr;
    ptr = &p2;
    ptr->x = 50;  // Arrow operator for pointer access
    ptr->y = 60;
    printf("Modified p2 via pointer: (%d, %d)\n", p2.x, p2.y);
    
    // Array of structures
    struct Point points[3];
    int i;
    for (i = 0; i < 3; i = i + 1) {
        points[i].x = i * 10;
        points[i].y = i * 20;
    }
    
    // Accessing array of structures
    for (i = 0; i < 3; i = i + 1) {
        printf("Point[%d]: (%d, %d)\n", i, points[i].x, points[i].y);
    }
    
    // Structure member comparison
    if (p1.x < p2.x) {
        printf("p1.x is less than p2.x\n");
    }
    
    // Using structure members in expressions
    int sum = p1.x + p1.y;
    int diff = p2.x - p2.y;
    printf("Sum of p1 coordinates: %d\n", sum);
    printf("Difference of p2 coordinates: %d\n", diff);
    
    // Multiple structure variables
    struct Student s1, s2;
    s1.id = 201;
    s1.gpa = 3.8;
    s1.age = 21;
    
    s2.id = 202;
    s2.gpa = 3.9;
    s2.age = 22;
    
    // Compare structure members
    if (s1.gpa < s2.gpa) {
        printf("Student 2 has higher GPA\n");
    } else {
        printf("Student 1 has higher or equal GPA\n");
    }
    
    return 0;
}


/*
// TEST CASE: STRUCTURE SEMANTIC ERRORS

#include <stdio.h>

// Structure Definition
struct Point {
    int x;
    int y;
    int z[2];
};

int main() {
    struct Point p1 = {1, 2, {3, 4}};
    struct Point p2;
    int a = 5;
    
    // ERROR 1: Accessing a non-existent member
    p1.w = 10;                      // ERROR: 'w' undeclared member of 'struct Point'

    // ERROR 2: Direct assignment between incompatible structure types
    p1 = a;                         //ERROR: Cannot assign scalar 'int' to aggregate 'struct Point'

    // ERROR 3: Array indexing on a scalar member
    p1.x[0] = 5;                   //ERROR: Subscripted value is not an array, pointer, or vector (x is int)
    
    
    struct Point* ptr = &p1;
    p2.x = ptr.x;                 // ERROR - Arrow operator
    
    // ERROR 5: Using struct in conditional (Struct is non-scalar)
    if (p1) {                     // ERROR: Condition must be a scalar type (int, float, pointer)
      p2.x = 1;
    }
    
    return 0;
}
*/